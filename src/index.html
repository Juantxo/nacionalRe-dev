<!doctype html>
<html lang="es-ES" class="responsive">

<head>
    <title>Diabetes-calc</title>
    <link rel="stylesheet" href="./assets/css/reset.css">
    <link rel="stylesheet" href="./assets/css/avia.css">
    <link rel="stylesheet" href="./assets/css/styles.css">
</head>

<body>
    <div id="diabetes_cal" class="diabetes-calc">

        <div class="container">
            <form action="" method="" target="_blank" class="diabetes-form" id="diabetes_form" name="diabetes_form">
                <div class="row">
                    <div class="col-6">
                        <p class="form-title">¿Ha padecido alguna de las siguiente patologías?</p>
                        <p class="mandatory"><span id='cbox_msg'><small>Estas patologías no permite asegurar ningún
                                    riesgo.</small></span>&nbsp;&#8205;</p>
                        <ul class="vertical">
                            <li> <input type="checkbox" id="cbox1" name="cbox" value="" autocomplete="off">Retinología
                            </li>
                            <li><input type="checkbox" id="cbox2" name="cbox" value="" autocomplete="off">Neuropatía
                            </li>
                            <li><input type="checkbox" id="cbox3" name="cbox" value="" autocomplete="off">Enfermedad
                                coronaria
                                (Angina, infarto
                                aguado)</li>
                            <li><input type="checkbox" id="cbox4" name="cbox" value="" autocomplete="off">Enfermedad
                                renal asociada
                            </li>
                            <li><input type="checkbox" id="cbox5" name="cbox" value="" autocomplete="off">Enfermedad
                                arterial
                                asociada</li>
                            <li><input type="checkbox" id="cbox6" name="cbox" value="" autocomplete="off">Enfermedad
                                arterial
                                periférica</li>
                            <li><input type="checkbox" id="cbox7" name="cbox" value="" autocomplete="off">Accidente
                                cerebrovascular
                            </li>
                            <li><input type="checkbox" id="cbox8" name="cbox" value="" autocomplete="off">Ingreso
                                hace menos de 6
                                meses por una
                                complicación</li>
                        </ul>

                    </div>
                    <div class="col-6">
                        <div class="row">
                            <div class="col-6">
                                <p class="form-title">Género</p>
                                <p class="mandatory"><span id='gender_msg'><small>Campo
                                            obligatorio.</small></span>&nbsp;</p>

                                <ul class="vertical">
                                    <li><input type="radio" id="male" name="gender" value="male" autocomplete="off">
                                        <label for="male">Hombre</label>
                                    </li>
                                    <li><input type="radio" id="female" name="gender" value="female" autocomplete="off">
                                        <label for="female">Mujer</label>
                                    </li>
                                </ul>
                            </div>
                            <div class="col-6">
                                <p class="form-title">Fecha nacimiento</p>
                                <p class="numeric"><small><label for="years_diabetes">Entre 13 y 69
                                            años.</label></small>
                                </p>

                                <input class="margin__top-s row numeric" type="date" id="birthday" name="birthday"
                                    value="" autocomplete="off">
                                <p class="mandatory"><span id='birthday_msg'><small>Fecha
                                            obligatoria.</small></span>&nbsp;</p>


                            </div>

                        </div> <!-- row -->


                        <div class="row">
                            <div class="col-6">
                                <p class="form-title">Diabetes</p>
                                <p class="mandatory"><span id='diabetes_msg'><small>Campo
                                            obligatorio.</small></span>&nbsp;</p>
                                <ul class="vertical">
                                    <li><input type="radio" id="t1" name="diabetes" value="t1" autocomplete="off">
                                        <label for="t1">Tipo
                                            I</label>
                                    </li>
                                    <li><input type="radio" id="t2" name="diabetes" value="t2" autocomplete="off">
                                        <label for="t2">Tipo
                                            II</label>
                                    </li>
                                </ul>
                            </div>
                            <div class="col-6">
                                <p class="form-title">Antigüedad diabetes</p>

                                <p class="numeric"><small><label for="years_diabetes">Años desde
                                            diagnóstico:</label></small>
                                </p>

                                <p class="margin__top-xs"><input type="number" id="years_diabetes" name="years_diabetes"
                                        min="0" max="100" autocomplete="off"></p>
                                <p class="mandatory"><span id='years_diabetes_msg'><small>Campo
                                            obligatorio.</small></span>&nbsp;</p>


                            </div>

                        </div><!-- row -->
                    </div>
                </div>
                <hr class="hr">

                <div class="row">
                    <div class="col-3">
                        <p class="form-title">Constitución</p>
                        <small>&nbsp;</small>
                        <table class="regular margin__top-xs">
                            <tr>
                                <td>Peso (kg)
                                    <p class="mandatory"><span id='weight_msg'><small>Campo
                                                obligatorio.</small></span>&nbsp;</p>

                                </td>
                                <td><input type="number" id="weight" name="weight" min="0" max="600" autocomplete="off">
                                </td>

                            </tr>
                            <tr>
                                <td>Altura (cm)

                                    <p class="mandatory"><span id='height_msg'><small>Campo
                                                obligatorio.</small></span>&nbsp;</p>

                                </td>
                                <td><input type="number" id="height" name="height" min="0" max="280" autocomplete="off">
                                </td>

                            </tr>
                            <tr>
                                <td>Masa corporal

                                    <p class="mandatory"><span id='body_mass_msg'><small>Campo
                                                obligatorio.</small></span>&nbsp;</p>

                                </td>
                                <td><input class='bold' type="text" id="body_mass" name="body_mass" min="0" max="50"
                                        autocomplete="off" readonly></td>
                            </tr>
                        </table>


                    </div>
                    <div class="col-3">
                        <p class="form-title">Tabaco</p>
                        <small>Consumo diario</small>
                        <table class="regular margin__top-xs">
                            <tr>
                                <td>Cigarrillos
                                    <p class="mandatory"><span id='cigarettes_msg'><small>Campo
                                                obligatorio.</small></span>&nbsp;</p>

                                </td>
                                <td><input type="number" id="cigarettes" name="cigarettes" min="0" max="100"
                                        autocomplete="off">
                                </td>

                            </tr>
                            <tr>
                                <td>Puros

                                    <p class="mandatory"><span id='cigars_msg'><small>Campo
                                                obligatorio.</small></span>&nbsp;</p>

                                </td>
                                <td><input type="number" id="cigars" name="cigars" min="0" max="100" autocomplete="off">
                                </td>

                            </tr>
                            <tr>
                                <td>Pipa
                                    <p class="mandatory"><span id='pipes_msg'><small>Campo
                                                obligatorio.</small></span>&nbsp;</p>

                                </td>
                                <td><input type="number" id="pipes" name="pipes" min="0" max="50" autocomplete="off">
                                </td>
                            </tr>
                        </table>


                    </div>
                    <div class="col-3">
                        <p class="form-title">Alcohol</p>
                        <small>Consumo diario</small>
                        <table class="regular margin__top-xs">
                            <tr>
                                <td>Vinos

                                    <p class="mandatory"><span id='wines_msg'><small>Campo
                                                obligatorio.</small></span>&nbsp;</p>

                                </td>
                                <td><input type="number" id="wines" name="wines" min="0" max="100" autocomplete="off">
                                </td>

                            </tr>
                            <tr>
                                <td>Cervezas

                                    <p class="mandatory"><span id='beers_msg'><small>Campo
                                                obligatorio.</small></span>&nbsp;</p>

                                </td>
                                <td><input type="number" id="beers" name="beers" min="0" max="100" autocomplete="off">
                                </td>

                            </tr>
                            <tr>
                                <td>Licores
                                    <p class="mandatory"><span id='spirits_msg'><small>Campo
                                                obligatorio.</small></span>&nbsp;</p>

                                </td>
                                <td><input type="number" id="spirits" name="spirits" min="0" max="50"
                                        autocomplete="off">
                                </td>
                            </tr>
                        </table>


                    </div>
                    <div class="col-3">
                        <p class="form-title">Tensión arterial</p>
                        <small>Presión arterial (mm Hg.)</small>
                        <table class="regular margin__top-xs">
                            <tr>
                                <td>Sistólica

                                    <p class="mandatory"><span id='systolic_msg'><small>Campo
                                                obligatorio.</small></span>&nbsp;</p>



                                </td>
                                <td><input type="number" id="systolic" name="systolic" min="0" max="200"
                                        autocomplete="off">
                                </td>
                            </tr>
                            <tr>
                                <td>Diastólica
                                    <p class="mandatory"><span id='diastolic_msg'><small>Campo
                                                obligatorio.</small></span>&nbsp;</p>
                                </td>
                                <td><input type="number" id="diastolic" name="diastolic" min="0" max="200"
                                        autocomplete="off">
                                </td>

                            </tr>
                            <tr>
                                <td>&nbsp;</td>
                                <td>&nbsp;</td>
                            </tr>
                        </table>
                    </div>

                </div><!-- row -->
                <hr class="hr">
                <div class="row">
                    <div class="col-4">
                        <p class="form-title">Insulina</p>
                        <small>Unidades día y/o antidiabéticos orales</small>
                        <p class="mandatory"><span id='insulin_msg'><small>Campo
                                    obligatorio.</small></span>&nbsp;</p>

                        <ul class="vertical">
                            <li><input type="radio" id="ins1" name="insulin" value="ins1" autocomplete="off">
                                <label for="ins1">Hasta 25</label>
                            </li>
                            <li><input type="radio" id="ins2" name="insulin" value="ins2" autocomplete="off"> <label
                                    for="ins2">Más de 25</label></li>
                        </ul>
                    </div>

                    <div class="col-4">
                        <p class="form-title">Hemoglobina glicosilada (HbA1c)</p>
                        <small>Milimol por litro (mmol/l)</small>
                        <p class="mandatory"><span id='hemoglobin_msg'><small>Campo
                                    obligatorio.</small></span>&nbsp;</p>


                        <ul class="vertical">
                            <li><input type="radio" id="hem1" name="hemoglobin" value="hem1" autocomplete="off">
                                <label for="hem1">Menos de 7,0</label>
                            </li>
                            <li><input type="radio" id="hem2" name="hemoglobin" value="hem2" autocomplete="off"> <label
                                    for="hem2">de 7,0 a 7,5</label></li>
                            <li><input type="radio" id="hem3" name="hemoglobin" value="hem3" autocomplete="off"> <label
                                    for="hem3">de 7,6 a 8,0</label></li>
                            <li><input type="radio" id="hem4" name="hemoglobin" value="hem4" autocomplete="off"> <label
                                    for="hem4">de 8,1 a 9,0</label>
                            </li>
                            <li><input type="radio" id="hem5" name="hemoglobin" value="hem5" autocomplete="off"> <label
                                    for="hem5">de 9,1 a 10</label></li>
                            <li><input type="radio" id="hem6" name="hemoglobin" value="hem6" autocomplete="off"> <label
                                    for="hem6">Más de 10</label></li>
                        </ul>
                    </div>
                    <div class="col-4">
                        <p class="form-title">Colesterol total</p>
                        <small>Miligramos por decilitro (mg/dL)</small>
                        <p class="mandatory"><span id='cholesterol_msg'><small>Campo
                                    obligatorio.</small></span>&nbsp;</p>


                        <ul class="vertical">
                            <li><input type="radio" id="cho1" name="cholesterol" value="cho1" autocomplete="off"> <label
                                    for="cho1">Hasta 200</label>
                            </li>
                            <li><input type="radio" id="cho2" name="cholesterol" value="cho2" autocomplete="off"> <label
                                    for="cho2">de 200 a 250</label></li>
                            <li><input type="radio" id="cho3" name="cholesterol" value="cho3" autocomplete="off"> <label
                                    for="cho3">de 251 a 275</label></li>
                            <li><input type="radio" id="cho4" name="cholesterol" value="cho4" autocomplete="off"> <label
                                    for="cho4">de 276 a 300</label>
                            </li>
                            <li><input type="radio" id="cho5" name="cholesterol" value="cho5" autocomplete="off"> <label
                                    for="cho5">Más de 300</label></li>
                        </ul>
                    </div>

                </div><!-- row -->
                <hr class="hr">

                <div class="row send margin__top-m">
                    <div class="col-4">
                        <input id="pdf_button" type="button" name='pdf_button' value="Formulario" autocomplete="off">
                    </div>
                    <div class="col-4">
                        <input id="reset_button" type="reset" name='reset_button' value="Restaurar" autocomplete="off">
                    </div>
                    <div class="col-4">
                        <input id="submit_button" type="submit" name='submit_button' value="Enviar datos"
                            autocomplete="off">
                    </div>

                </div><!-- row -->

            </form>
        </div> <!-- CONTAINER -->




        <!-- The Modal warning message -->
        <div id="modal_window" class="modal-window">

            <!-- Modal content -->
            <div class="modal-content">
                <div class="modal-header">
                    <span class="close" id="close_modal_info">&times;</span>
                    <h2 id="modal_header_span">Atención</h2>
                </div>
                <div class="modal-body">
                    <p> <strong><span id="modal_body1_span">Patología</span></strong></p>
                    <p> <span id="modal_body2_span">Patología</span></p>
                </div>
                <div class="modal-footer">
                    <p><small id="modal_footer_span">©NacionalRe. Todos los derechos reservados.</small></p>
                </div>
            </div>

        </div>

        <!-- The Modal RESULTL -->
        <div id="modal_result" class="modal-window">

            <!-- Modal content -->
            <div class="modal-content">
                <div class="modal-header">
                    <span class="close" id='close_modal_result'>&times;</span>
                    <h2 id="modal_header_span">Resultados</h2>
                </div>
                <div class="modal-body">
                    <div class="container modal">
                        <div class="row">
                            <div class="col-12">
                                <p class="selection small">Consulta realizada el <span id="result_today"></span></p>
                                <p class="small"><span id="result_vars_constitution">
                                        <!-- Hombre | 11/01/1965 | 56 años | 75kg | 180 cm | 24,6 imc  -->
                                    </span></p>
                                <p class="small"><span id="result_vars_medical">
                                        <!-- Diabetes tipo 1: 5 años | 80 sistólica
                                        | 145 diastólica | Más de 25 insulina | De 7,0 a 7,5 hemoglobina | Más de 300
                                        colesterol -->
                                    </span>
                                </p>
                                <p class="small"><span id="result_vars_drugs"> 1 cerveza | 1 vino | 1 licor | 14
                                        cigarrillos | 2 puros | 1 pipa </span>
                                </p>
                            </div>

                        </div>

                    </div>

                    <div class="container modal">
                        <div class="row">
                            <div class="col-3">

                                <div class="result-icon life">
                                </div>
                                <h3>Fallecimiento</h3>
                                <p class="big-number">Normal</p>

                                <table class='result-table' style="width:100%">
                                    <tr>
                                        <th></th>
                                        <th></th>

                                    </tr>
                                    <tr>
                                        <td>Diabetes (años)</td>
                                        <td>+100</td>

                                    </tr>
                                    <tr>
                                        <td>Diabetes (edad)</td>
                                        <td>Rechazar</td>

                                    </tr>
                                    <tr>
                                        <td>IMC</td>
                                        <td>+25%</td>

                                    </tr>
                                    <tr>
                                        <td>Tensión</td>
                                        <td>+0%</td>

                                    </tr>
                                    <tr>
                                        <td>Hemoglobina</td>
                                        <td>+125%</td>

                                    </tr>
                                    <tr>
                                        <td>Insulina</td>
                                        <td>+125%</td>

                                    </tr>
                                    <tr>
                                        <td>Colesterol</td>
                                        <td>+125%</td>

                                    </tr>
                                    <tr>
                                        <td>Tabaco</td>
                                        <td>+125%</td>

                                    </tr>
                                    <tr>
                                        <td>Alcohol</td>
                                        <td>+125%</td>

                                    </tr>
                                </table>









                            </div>
                            <div class="col-3">
                                <div class="result-icon disability">
                                </div>
                                <h3>Invalidez</h3>
                                <p class="big-number">+25%</p>

                            </div>
                            <div class="col-3">
                                <div class="result-icon accident">
                                </div>
                                <h3>Fallecimiento accidental</h3>
                                <p class="big-number">Rechazar</p>
                            </div>
                            <div class="col-3">
                                <div class="result-icon ilt"></div>
                                <h3>Invalidez accidental</h3>
                                <p class="big-number">+225%</p>
                            </div>
                        </div>

                    </div>
                    <div class="modal-footer">
                        <p><small><span id="result_year"></span>©NacionalRe. Todos los derechos reservados.</small></p>
                    </div>
                </div>

            </div>



        </div>


        <script type="application/javascript">

            let loadScripts = (sources) => {
                sources.forEach(src => {
                    let script = document.createElement('script');
                    script.src = src;
                    script.async = false; //<-- the important part
                    document.body.appendChild(script); //<-- make sure to append to body instead of head 
                });
            }

            loadScripts([
                "./assets/js/c2.v1.js?v=2020",
                "./assets/js/modal_window.js?v=2020",
                "./assets/js/modal_results.js?v=2020",
                "./assets/js/diabetes_age_calc.js?v=2020",
                "./assets/js/diabetes_years_calc.js?v=2020",
                "./assets/js/imc_calc.js?v=2020",
                "./assets/js/tobacco_calc.js?v=2020",
                "./assets/js/alcohol_calc.js?v=2020",
                "./assets/js/hypertension_calc.js?v=2020",
                "./assets/js/insulin_calc.js?v=2020",
                "./assets/js/hemoglobin_calc.js?v=2020",
                "./assets/js/cholesterol_calc.js?v=2020",
                "./assets/js/diabetes_form.js?v=2020"
            ])


        </script>

        <script>

            let dictionary = [{ "key": "date", "value": "fecha" },
            { "key": "age", "value": "edad" },
            { "key": "gender", "value": "género" },
            { "key": "male", "value": "Hombre" },
            { "key": "female", "value": "Mujer" },
            { "key": "diabetes", "value": "diabetes" },
            { "key": "t1", "value": "tipo 1" },
            { "key": "t2", "value": "tipo 2" },
            { "key": "yearsDiabetes", "value": "años de tratamiento de diabetes" },
            { "key": "weigth", "value": "peso" },
            { "key": "height", "value": "pltura" },
            { "key": "imc", "value": "índice de masa muscular" },
            { "key": "cigarettes", "value": "cigarrillo" },
            { "key": "cigars", "value": "puro" },
            { "key": "pipes", "value": "pipa" },
            { "key": "wines", "value": "vino" },
            { "key": "beers", "value": "cerveza" },
            { "key": "spirits", "value": "licor" },
            { "key": "systolic", "value": "sistólica" },
            { "key": "diastolic", "value": "diastólica" },
            { "key": "insulin", "value": "insulina" },
            { "key": "ins1", "value": "Hasta 25 unidades diarias de insulina" },
            { "key": "ins2", "value": "Más de 25 unidades diarias de insulina" },
            { "key": "hemoglobin", "value": "hemoglobina" },
            { "key": "hem1", "value": "Menos de 7,0" },
            { "key": "hem2", "value": "De 7,0 a 7,5" },
            { "key": "hem3", "value": "De 7,6 a 8,0" },
            { "key": "hem4", "value": "De 8,1 a 9,0" },
            { "key": "hem5", "value": "De 9,1 a 10" },
            { "key": "hem6", "value": "Más de 10" },
            { "key": "cholesterol", "value": "colesterol" },
            { "key": "cho1", "value": "Hasta 200" },
            { "key": "cho2", "value": "De 200 a 250" },
            { "key": "cho3", "value": "De 251 a 275" },
            { "key": "cho4", "value": "De 276 a 300" },
            { "key": "cho5", "value": "Más de 300" }]



            let dVars = {
                "date": "1969-04-12T00:00:00.000Z",
                "age": 51,
                "gender": "male",
                "diabetes": "t2",
                "yearsDiabetes": "2",
                "weight": "80",
                "height": "180",
                "imc": 24.691358024691358,
                "cigarettes": "1",
                "cigars": "1",
                "pipes": "2",
                "wines": "2",
                "beers": "1",
                "spirits": "2",
                "systolic": "130",
                "diastolic": "80",
                "insulin": "ins2",
                "hemoglobin": "hem1",
                "cholesterol": "cho1",
                "today": "2021-01-22T16:55:38.408Z"
            };
            let dResults = {
                "diabetesByYears": {
                    "life": 0,
                    "disability": 0,
                    "accident": 0,
                    "ilt": 25
                },
                "diabetesByAge": {
                    "life": 25,
                    "disability": 25,
                    "accident": 25,
                    "ilt": 0
                },
                "imc": {
                    "life": 0,
                    "disability": 0,
                    "accident": 0,
                    "ilt": 0
                },
                "tobacco": 25,
                "alcohol": 999,
                "hypertension": 0,
                "insulin": 0,
                "hemoglobin": 0,
                "cholesterol": 0
            }


            // selectors
            let result_today = document.getElementById('result_today');
            let result_year = document.getElementById('result_year');
            let result_vars_constitution = document.getElementById('result_vars_constitution');
            let result_vars_medical = document.getElementById('result_vars_medical');


            // vars
            let newDate = new Date(dVars.today);
            let year = newDate.getFullYear();
            let today = newDate.getDate() + '/' + (newDate.getMonth() + 1) + '/' + newDate.getFullYear() + ' a las ' + newDate.getUTCHours() + ':' + newDate.getUTCMinutes() + 'h.';
            let gender = getDictionaryWord(dVars.gender)[0].value;
            let bornDate = new Date(dVars.date);
            let date = bornDate.getDate() + '/' + (bornDate.getMonth() + 1) + '/' + bornDate.getFullYear() + '';
            let age = dVars.age + ' años';
            let height = dVars.height + ' cm';
            let weight = dVars.weight + ' kg';
            let imc = dVars.imc.toFixed(2) + ' imc';
            let diabetes = 'Diabetes ' + getDictionaryWord(dVars.diabetes)[0].value;
            let systolic = dVars.systolic + ' sistólica';
            let diastolic = dVars.diastolic + ' diastólica';
            let insulin = getDictionaryWord(dVars.insulin)[0].value;
            let hemoglobin = getDictionaryWord(dVars.hemoglobin)[0].value + ' hemoglobina';
            let cholesterol = getDictionaryWord(dVars.cholesterol)[0].value + ' colesterol';

            let constitution = gender + ' | ' + date + ' | ' + age + ' | ' + height + ' | ' + weight + ' | ' + imc + ' | ';
            let medical = diabetes + ': ' + dVars.yearsDiabetes + ' años' + ' | ' + systolic + ' | ' + diastolic + ' | ' + insulin + ' | ' + hemoglobin + ' | ' + cholesterol;





            // functions
            function getDictionaryWord(key) {
                return dictionary.filter(d => d.key === key);
            }

            // print
            result_today.innerHTML = today;
            result_year.innerHTML = year;
            result_vars_constitution.innerHTML = constitution;
            result_vars_medical.innerHTML = medical;


            let x;


        </script>

</body>

</html>